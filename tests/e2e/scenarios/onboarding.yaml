appId: com.markboulton.veloready
---
# Phase 2 E2E Test: Onboarding Flow
# Tests new user signup and Strava connection

- launchApp

# Welcome screen
- assertVisible: "Welcome to VeloReady"
- tapOn: "Get Started"

# Value proposition screen
- assertVisible: "Track Your Progress"
- assertVisible: "AI-Powered Insights"
- tapOn: "Continue"

# What VeloReady screen
- assertVisible: "Riding First"
- assertVisible: "Intelligence Layer"
- tapOn: "Continue"

# Sport ranking screen (critical for AI personalization)
- assertVisible: "Select Your Primary Sport"
- tapOn: "Cycling" # Select cycling as primary sport
- tapOn: "Continue"

# HealthKit permission screen
- assertVisible: "Connect Apple Health"
- tapOn: "Allow Access"

# Data sources screen
- assertVisible: "Connect Your Data"
- tapOn: "Connect Strava"

# OAuth flow (this will open Safari/WebView)
- assertVisible: "Connect with Strava"
- tapOn: "Authorize"

# Return to app after OAuth
- assertVisible: "Successfully Connected"

# Profile setup
- assertVisible: "Complete Your Profile"
- inputText: "Test User"
- tapOn: "Continue"

# Subscription screen
- assertVisible: "Unlock Pro Features"
- tapOn: "Start Free Trial" # or "Skip for Now"

# Verify onboarding completed
- assertVisible: "Today" # Should see main app tabs
- assertVisible: "Activities"
- assertVisible: "Trends"

# Verify initial data sync started
- assertVisible: "Syncing Activities" # or similar loading indicator
