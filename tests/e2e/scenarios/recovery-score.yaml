appId: com.markboulton.veloready
---
# Phase 2 E2E Test: Recovery Score Flow
# Tests recovery score calculation and breakdown

- launchApp
- tapOn: "Today"

# Verify Recovery Score card is visible
- assertVisible: "Recovery Score"
- assertVisible: "Excellent" # or "Good", "Poor" based on data

# Test recovery score detail view
- tapOn: "Recovery Score"

# Verify detailed breakdown
- assertVisible: "Recovery Breakdown"
- assertVisible: "HRV"
- assertVisible: "RHR"
- assertVisible: "Sleep Score"

# Verify score components are displayed
- assertVisible: "Heart Rate Variability"
- assertVisible: "Resting Heart Rate"
- assertVisible: "Sleep Quality"

# Test trend chart
- assertVisible: "7-Day Trend"
- assertVisible: "Recovery Trend"

# Test different recovery states
- swipe:
    direction: LEFT
    start: "80%,50%"
    end: "20%,50%"

# Verify historical data
- assertVisible: "Previous Days"

# Test back navigation
- tapOn: "Back"
- assertVisible: "Recovery Score"

# Test refresh functionality
- tapOn: "Refresh"

# Verify score updates
- assertVisible: "Calculating Recovery" # Loading state
- assertVisible: "Excellent" # Updated score

# Test edge cases
- tapOn: "Recovery Score"
- tapOn: "View All Metrics"

# Verify all metrics are displayed
- assertVisible: "All Metrics"
- assertVisible: "HRV Trend"
- assertVisible: "RHR Trend"
- assertVisible: "Sleep Trend"

# Test metric detail views
- tapOn: "HRV"

# Verify HRV detail
- assertVisible: "HRV Details"
- assertVisible: "Current Value"
- assertVisible: "7-Day Average"

# Test back navigation
- tapOn: "Back"
- assertVisible: "All Metrics"

# Test back to main view
- tapOn: "Back"
- assertVisible: "Recovery Score"
